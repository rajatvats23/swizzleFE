import{a as we,c as ve,j as be}from"./chunk-W7273WC7.js";import{b as ye}from"./chunk-J6ZPAMSE.js";import{j as X,k as W,l as q,m as ee,n as G}from"./chunk-QES3DBMA.js";import{Ab as U,Bb as Y,Na as V,Pa as _,Sa as N,Ta as D,Xa as L,Za as B,_a as A,ab as Pe,cb as z,da as xe,m as Ce,o as R,qb as j,rb as H,ub as te,yb as Q,zb as J}from"./chunk-RZVNQAMP.js";import{Bc as I,Cb as h,Da as ae,Db as p,Eb as F,Fb as me,Ga as v,Gb as pe,Ib as m,Ma as se,Mb as n,Nb as o,Ob as u,Rb as T,Sb as y,Xb as g,Zb as c,aa as re,bc as ue,ca as ne,cc as ge,d as M,db as a,dc as _e,fa as f,gc as fe,hc as s,ic as O,jc as S,pa as C,pb as P,qa as w,qb as le,ra as K,rb as ce,sa as oe,ta as k,tb as E,tc as he,vb as de,wb as d}from"./chunk-K3BUIVDM.js";var Te=["determinateSpinner"];function Oe(t,r){if(t&1&&(K(),n(0,"svg",11),u(1,"circle",12),o()),t&2){let e=c();h("viewBox",e._viewBox()),a(),F("stroke-dasharray",e._strokeCircumference(),"px")("stroke-dashoffset",e._strokeCircumference()/2,"px")("stroke-width",e._circleStrokeWidth(),"%"),h("r",e._circleRadius())}}var Ie=new ne("mat-progress-spinner-default-options",{providedIn:"root",factory:Re});function Re(){return{diameter:Me}}var Me=100,Ve=10,Z=(()=>{class t{_elementRef=f(ae);_noopAnimations;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;_defaultColor="primary";_determinateCircle;constructor(){let e=f(se,{optional:!0}),i=f(Ie);this._noopAnimations=e==="NoopAnimations"&&!!i&&!i._forceAnimations,this.mode=this._elementRef.nativeElement.nodeName.toLowerCase()==="mat-spinner"?"indeterminate":"determinate",i&&(i.color&&(this.color=this._defaultColor=i.color),i.diameter&&(this.diameter=i.diameter),i.strokeWidth&&(this.strokeWidth=i.strokeWidth))}mode;get value(){return this.mode==="determinate"?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,e||0))}_value=0;get diameter(){return this._diameter}set diameter(e){this._diameter=e||0}_diameter=Me;get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(e){this._strokeWidth=e||0}_strokeWidth;_circleRadius(){return(this.diameter-Ve)/2}_viewBox(){let e=this._circleRadius()*2+this.strokeWidth;return`0 0 ${e} ${e}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return this.mode==="determinate"?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=P({type:t,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(i,l){if(i&1&&ue(Te,5),i&2){let x;ge(x=_e())&&(l._determinateCircle=x.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(i,l){i&2&&(h("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow",l.mode==="determinate"?l.value:null)("mode",l.mode),pe("mat-"+l.color),F("width",l.diameter,"px")("height",l.diameter,"px")("--mdc-circular-progress-size",l.diameter+"px")("--mdc-circular-progress-active-indicator-width",l.diameter+"px"),me("_mat-animation-noopable",l._noopAnimations)("mdc-circular-progress--indeterminate",l.mode==="indeterminate"))},inputs:{color:"color",mode:"mode",value:[2,"value","value",I],diameter:[2,"diameter","diameter",I],strokeWidth:[2,"strokeWidth","strokeWidth",I]},exportAs:["matProgressSpinner"],features:[de],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(i,l){if(i&1&&(d(0,Oe,2,8,"ng-template",null,0,he),n(2,"div",2,1),K(),n(4,"svg",3),u(5,"circle",4),o()(),oe(),n(6,"div",5)(7,"div",6)(8,"div",7),T(9,8),o(),n(10,"div",9),T(11,8),o(),n(12,"div",10),T(13,8),o()()()),i&2){let x=fe(1);a(4),h("viewBox",l._viewBox()),a(),F("stroke-dasharray",l._strokeCircumference(),"px")("stroke-dashoffset",l._strokeDashOffset(),"px")("stroke-width",l._circleStrokeWidth(),"%"),h("r",l._circleRadius()),a(4),p("ngTemplateOutlet",x),a(2),p("ngTemplateOutlet",x),a(2),p("ngTemplateOutlet",x)}},dependencies:[Ce],styles:[".mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0;position:relative;direction:ltr;transition:opacity 250ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width, 4px)}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1;animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color, var(--mat-sys-primary))}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}"],encapsulation:2,changeDetection:0})}return t})();var $=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=le({type:t});static \u0275inj=re({imports:[xe]})}return t})();var b=class t{fb=f(Pe);authService=f(be);router=f(ve);route=f(we);snackBar=f(ye);submitting=v(!1);hidePassword=v(!0);hideConfirmPassword=v(!0);handleError(r,e){let i=r instanceof Error?r.message:e;this.snackBar.open(i,"Close",{duration:5e3,horizontalPosition:"center",verticalPosition:"top"})}navigateToLogin(){this.router.navigate(["/auth/login"])}navigateToForgotPassword(){this.router.navigate(["/auth/forgot-password"])}togglePasswordVisibility(){this.hidePassword.update(r=>!r)}toggleConfirmPasswordVisibility(){this.hideConfirmPassword.update(r=>!r)}passwordMatchValidator(r){let e=r.get("password"),i=r.get("confirmPassword");return e&&i&&e.value!==i.value&&!i.hasError("required")?(i.setErrors({passwordMismatch:!0}),{passwordMismatch:!0}):null}strongPasswordPattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)[a-zA-Z\\d]{8,}$";static \u0275fac=function(e){return new(e||t)};static \u0275dir=ce({type:t})};function De(t,r){t&1&&s(0," Email is required ")}function Le(t,r){t&1&&s(0," Please enter a valid email address ")}function Be(t,r){if(t&1&&(n(0,"mat-error"),d(1,De,1,0)(2,Le,1,0),o()),t&2){let e=c();a(),m(e.emailControl.hasError("required")?1:e.emailControl.hasError("email")?2:-1)}}function Ae(t,r){t&1&&s(0," Password is required ")}function ze(t,r){t&1&&s(0," Password must be at least 6 characters ")}function We(t,r){if(t&1&&(n(0,"mat-error"),d(1,Ae,1,0)(2,ze,1,0),o()),t&2){let e=c();a(),m(e.passwordControl.hasError("required")?1:e.passwordControl.hasError("minlength")?2:-1)}}function qe(t,r){t&1&&u(0,"mat-spinner",13)}function Ge(t,r){t&1&&s(0," Email is required ")}function je(t,r){t&1&&s(0," Please enter a valid email address ")}function He(t,r){if(t&1&&(n(0,"mat-error"),d(1,Ge,1,0)(2,je,1,0),o()),t&2){let e=c(2);a(),m(e.emailControl.hasError("required")?1:e.emailControl.hasError("email")?2:-1)}}function Qe(t,r){t&1&&u(0,"mat-spinner",12)}function Je(t,r){if(t&1){let e=y();n(0,"div",2)(1,"h1",3),s(2,"Forgot Password"),o(),n(3,"p",4),s(4," Enter the email address associated with your account "),o()(),n(5,"form",5),g("ngSubmit",function(){C(e);let l=c();return w(l.onSubmit())}),n(6,"div",6)(7,"mat-form-field",7)(8,"mat-label"),s(9,"Email Address"),o(),u(10,"input",8),d(11,He,3,1,"mat-error"),o()(),n(12,"div",9)(13,"button",10)(14,"span",11),d(15,Qe,1,0,"mat-spinner",12),s(16),o()()()(),n(17,"div",13)(18,"a",14),g("click",function(){C(e);let l=c();return w(l.navigateToLogin())}),s(19,"Back to Login"),o()()}if(t&2){let e=c();a(5),p("formGroup",e.forgotPasswordForm),a(6),m(e.emailControl.invalid&&(e.emailControl.dirty||e.emailControl.touched)?11:-1),a(2),p("disabled",e.forgotPasswordForm.invalid||e.submitting()),a(2),m(e.submitting()?15:-1),a(),S(" ",e.submitting()?"Sending...":"Reset Password"," ")}}function Ue(t,r){if(t&1){let e=y();n(0,"div",1)(1,"div",2)(2,"h1",3),s(3,"Check your Email"),o(),n(4,"p",4),s(5," We have sent a password reset link to"),u(6,"br"),s(7),o()(),n(8,"div",9)(9,"button",15),g("click",function(){C(e);let l=c();return w(l.navigateToLogin())}),s(10," Back to Login "),o()(),n(11,"div",16),s(12," Didn't receive the email? "),n(13,"a",17),g("click",function(){C(e);let l=c();return w(l.resendEmail())}),s(14,"Click to resend"),o()()()}if(t&2){let e=c();a(7),S("",e.sentEmail()," ")}}var ie=".auth-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:1rem 2rem}.auth-header[_ngcontent-%COMP%]{text-align:left;margin-bottom:2rem}.auth-header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-family:Josefin Sans,sans-serif;font-weight:500;font-size:24px;line-height:24px;letter-spacing:0%;margin-bottom:1rem}.auth-header[_ngcontent-%COMP%]   .title.primary[_ngcontent-%COMP%]{color:#333}.auth-header[_ngcontent-%COMP%]   .title.accent[_ngcontent-%COMP%]{color:#ff5630}.auth-header[_ngcontent-%COMP%]   .title.error[_ngcontent-%COMP%]{color:#d32f2f}.auth-header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-family:Josefin Sans,sans-serif;font-weight:400;font-size:16px;line-height:16px;letter-spacing:0%;color:#666;margin:0}.form-fields[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px;margin-bottom:24px}.form-fields[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.auth-actions[_ngcontent-%COMP%]{margin-bottom:16px}.auth-actions[_ngcontent-%COMP%]   .auth-button[_ngcontent-%COMP%]{width:100%;height:53px;border-radius:4px;padding:10px 16px;background-color:#00a76f;color:#fff}.auth-actions[_ngcontent-%COMP%]   .auth-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:Josefin Sans,sans-serif;font-weight:500;font-size:14px;line-height:14px;letter-spacing:0%;text-align:center}.auth-actions[_ngcontent-%COMP%]   .auth-button[_ngcontent-%COMP%]:hover{background-color:#00896a}.auth-footer[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:1rem}.auth-footer.right-aligned[_ngcontent-%COMP%]{justify-content:flex-end}.auth-footer[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{color:#666;font-size:14px;cursor:pointer;text-decoration:none}.auth-footer[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]:hover{text-decoration:underline}.auth-footer[_ngcontent-%COMP%]   .link.accent[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-weight:500;font-size:16px;line-height:28px;letter-spacing:0%;color:#ff5630}.email-sent-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;text-align:center}.resend-link[_ngcontent-%COMP%]{margin-top:1.5rem;font-size:14px;color:#666}.resend-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#ff5630;cursor:pointer;text-decoration:none}.resend-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.spinner[_ngcontent-%COMP%]{margin-right:8px}.row-text[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center}  .mdc-text-field--outlined{--mdc-outlined-text-field-container-height: 56px}  .mat-mdc-form-field-subscript-wrapper{height:18px}";function Ye(t,r){if(t&1){let e=y();n(0,"div",1)(1,"div",2)(2,"h1",3),s(3,"Invalid Reset Link"),o(),n(4,"p",4),s(5,"The password reset link is invalid or has expired."),o()(),n(6,"div",5)(7,"button",6),g("click",function(){C(e);let l=c();return w(l.navigateToLogin())}),s(8," Back to Login "),o()()()}}function Ze(t,r){t&1&&s(0," Password is required ")}function $e(t,r){t&1&&s(0," Password must be at least 8 characters ")}function Ke(t,r){t&1&&s(0," Password must include at least one uppercase letter, one lowercase letter, and one number ")}function Xe(t,r){if(t&1&&(n(0,"mat-error"),d(1,Ze,1,0)(2,$e,1,0)(3,Ke,1,0),o()),t&2){let e=c(2);a(),m(e.passwordControl.hasError("required")?1:e.passwordControl.hasError("minlength")?2:e.passwordControl.hasError("pattern")?3:-1)}}function et(t,r){t&1&&s(0," Confirm password is required ")}function tt(t,r){t&1&&s(0," Password must be at least 8 characters ")}function it(t,r){if(t&1&&(n(0,"mat-error"),d(1,et,1,0)(2,tt,1,0),o()),t&2){let e=c(2);a(),m(e.confirmPasswordControl.hasError("required")?1:e.confirmPasswordControl.hasError("minlength")?2:-1)}}function rt(t,r){t&1&&(n(0,"mat-error"),s(1," Passwords do not match "),o())}function nt(t,r){t&1&&u(0,"mat-spinner",16)}function ot(t,r){if(t&1){let e=y();n(0,"div",2)(1,"h1",7),s(2,"Set New Password"),o(),n(3,"p",4),s(4,"Type your new password below"),o()(),n(5,"form",8),g("ngSubmit",function(){C(e);let l=c();return w(l.onSubmit())}),n(6,"div",9)(7,"mat-form-field",10)(8,"mat-label"),s(9,"New Password"),o(),u(10,"input",11),n(11,"button",12),g("click",function(){C(e);let l=c();return w(l.togglePasswordVisibility())}),n(12,"mat-icon"),s(13),o()(),d(14,Xe,4,1,"mat-error"),o(),n(15,"mat-form-field",10)(16,"mat-label"),s(17,"Confirm Password"),o(),u(18,"input",13),n(19,"button",12),g("click",function(){C(e);let l=c();return w(l.toggleConfirmPasswordVisibility())}),n(20,"mat-icon"),s(21),o()(),d(22,it,3,1,"mat-error")(23,rt,2,0,"mat-error"),o()(),n(24,"div",5)(25,"button",14)(26,"span",15),d(27,nt,1,0,"mat-spinner",16),s(28),o()()()()}if(t&2){let e=c();a(5),p("formGroup",e.resetPasswordForm),a(5),p("type",e.hidePassword()?"password":"text"),a(),h("aria-label","Hide password")("aria-pressed",e.hidePassword()),a(2),O(e.hidePassword()?"visibility_off":"visibility"),a(),m(e.passwordControl.invalid&&(e.passwordControl.dirty||e.passwordControl.touched)?14:-1),a(4),p("type",e.hideConfirmPassword()?"password":"text"),a(),h("aria-label","Hide password")("aria-pressed",e.hideConfirmPassword()),a(2),O(e.hideConfirmPassword()?"visibility_off":"visibility"),a(),m(e.confirmPasswordControl.invalid&&(e.confirmPasswordControl.dirty||e.confirmPasswordControl.touched)?22:-1),a(),m(e.resetPasswordForm.hasError("passwordMismatch")&&e.confirmPasswordControl.touched?23:-1),a(2),p("disabled",e.resetPasswordForm.invalid||e.submitting()),a(2),m(e.submitting()?27:-1),a(),S(" ",e.submitting()?"Resetting...":"Reset Password"," ")}}var ke=class t extends b{loginForm=this.fb.group({email:["",[_.required,_.email]],password:["",[_.required,_.minLength(6)]]});get emailControl(){return this.loginForm.get("email")}get passwordControl(){return this.loginForm.get("password")}onSubmit(){return M(this,null,function*(){if(!this.loginForm.invalid){this.submitting.set(!0);try{let{email:r,password:e}=this.loginForm.value;yield this.authService.login(r,e)}catch(r){this.handleError(r,"Login failed")}finally{this.submitting.set(!1)}}})}static \u0275fac=(()=>{let r;return function(i){return(r||(r=k(t)))(i||t)}})();static \u0275cmp=P({type:t,selectors:[["app-login"]],features:[E],decls:29,vars:10,consts:[[1,"auth-container"],[1,"auth-header"],[1,"title","primary"],[1,"subtitle"],[3,"ngSubmit","formGroup"],[1,"form-fields"],["appearance","outline"],["matInput","","formControlName","email","placeholder","name@example.com","type","email"],["matInput","","formControlName","password","placeholder","Enter your password",3,"type"],["type","button","mat-icon-button","","matSuffix","",3,"click"],[1,"auth-actions"],["mat-raised-button","","color","primary","type","submit",1,"auth-button",3,"disabled"],[1,"row-text"],["diameter","20",1,"spinner"],[1,"auth-footer","right-aligned"],[1,"link","accent",3,"click"]],template:function(e,i){e&1&&(n(0,"div",0)(1,"div",1)(2,"h1",2),s(3,"Welcome!"),o(),n(4,"p",3),s(5,"Sign in to Get Started"),o()(),n(6,"form",4),g("ngSubmit",function(){return i.onSubmit()}),n(7,"div",5)(8,"mat-form-field",6)(9,"mat-label"),s(10,"Enter Your Email"),o(),u(11,"input",7),d(12,Be,3,1,"mat-error"),o(),n(13,"mat-form-field",6)(14,"mat-label"),s(15,"Password"),o(),u(16,"input",8),n(17,"button",9),g("click",function(){return i.togglePasswordVisibility()}),n(18,"mat-icon"),s(19),o()(),d(20,We,3,1,"mat-error"),o()(),n(21,"div",10)(22,"button",11)(23,"span",12),d(24,qe,1,0,"mat-spinner",13),s(25),o()()()(),n(26,"div",14)(27,"a",15),g("click",function(){return i.navigateToForgotPassword()}),s(28,"Forgot Password"),o()()()),e&2&&(a(6),p("formGroup",i.loginForm),a(6),m(i.emailControl.invalid&&(i.emailControl.dirty||i.emailControl.touched)?12:-1),a(4),p("type",i.hidePassword()?"password":"text"),a(),h("aria-label","Hide password")("aria-pressed",i.hidePassword()),a(2),O(i.hidePassword()?"visibility_off":"visibility"),a(),m(i.passwordControl.invalid&&(i.passwordControl.dirty||i.passwordControl.touched)?20:-1),a(2),p("disabled",i.loginForm.invalid||i.submitting()),a(2),m(i.submitting()?24:-1),a(),S(" ",i.submitting()?"Signing in...":"Sign in",""))},dependencies:[R,z,L,V,N,D,B,A,J,Q,j,H,te,Y,U,$,Z,G,q,ee,W,X],styles:[ie],changeDetection:0})},Ee=class t extends b{forgotPasswordForm=this.fb.group({email:["",[_.required,_.email]]});emailSent=v(!1);sentEmail=v(null);get emailControl(){return this.forgotPasswordForm.get("email")}onSubmit(){return M(this,null,function*(){if(!this.forgotPasswordForm.invalid){this.submitting.set(!0);try{let{email:r}=this.forgotPasswordForm.value;yield this.authService.forgotPassword(r),this.sentEmail.set(r),this.emailSent.set(!0)}catch(r){this.handleError(r,"Failed to send reset email")}finally{this.submitting.set(!1)}}})}resendEmail(){this.sentEmail()&&(this.forgotPasswordForm.setValue({email:this.sentEmail()}),this.onSubmit())}static \u0275fac=(()=>{let r;return function(i){return(r||(r=k(t)))(i||t)}})();static \u0275cmp=P({type:t,selectors:[["app-forgot-password"]],features:[E],decls:3,vars:1,consts:[[1,"auth-container"],[1,"email-sent-container"],[1,"auth-header"],[1,"title","accent"],[1,"subtitle"],[3,"ngSubmit","formGroup"],[1,"form-fields"],["appearance","outline"],["matInput","","formControlName","email","placeholder","name@example.com","type","email"],[1,"auth-actions"],["mat-raised-button","","color","primary","type","submit",1,"auth-button",3,"disabled"],[1,"row-text"],["diameter","20",1,"spinner"],[1,"auth-footer"],[1,"link",3,"click"],["mat-raised-button","","color","primary",1,"auth-button",3,"click"],[1,"resend-link"],[3,"click"]],template:function(e,i){e&1&&(n(0,"div",0),d(1,Je,20,5)(2,Ue,15,1,"div",1),o()),e&2&&(a(),m(i.emailSent()?2:1))},dependencies:[R,z,L,V,N,D,B,A,J,Q,j,H,Y,U,$,Z,G,q,W],styles:[ie],changeDetection:0})},Fe=class t extends b{resetPasswordForm=this.fb.group({password:["",[_.required,_.minLength(8),_.pattern(this.strongPasswordPattern)]],confirmPassword:["",[_.required,_.minLength(8)]]},{validators:this.passwordMatchValidator});token=v(null);invalidToken=v(!1);get passwordControl(){return this.resetPasswordForm.get("password")}get confirmPasswordControl(){return this.resetPasswordForm.get("confirmPassword")}ngOnInit(){this.route.queryParams.subscribe(r=>{r.token?this.token.set(r.token):(this.invalidToken.set(!0),this.snackBar.open("Invalid or missing reset token","Close",{duration:5e3,horizontalPosition:"center",verticalPosition:"top"}))})}onSubmit(){return M(this,null,function*(){if(!this.resetPasswordForm.invalid){this.submitting.set(!0);try{let{password:r}=this.resetPasswordForm.value;if(!this.token())throw new Error("Missing reset token");yield this.authService.resetPassword(r,this.token()),this.snackBar.open("Password reset successfully","Close",{duration:5e3,horizontalPosition:"center",verticalPosition:"top"}),this.navigateToLogin()}catch(r){this.handleError(r,"Failed to reset password")}finally{this.submitting.set(!1)}}})}static \u0275fac=(()=>{let r;return function(i){return(r||(r=k(t)))(i||t)}})();static \u0275cmp=P({type:t,selectors:[["app-reset-password"]],features:[E],decls:3,vars:1,consts:[[1,"auth-container"],[1,"email-sent-container"],[1,"auth-header"],[1,"title","error"],[1,"subtitle"],[1,"auth-actions"],["mat-raised-button","","color","primary",1,"auth-button",3,"click"],[1,"title","primary"],[3,"ngSubmit","formGroup"],[1,"form-fields"],["appearance","outline"],["matInput","","formControlName","password","placeholder","Enter your new password",3,"type"],["type","button","mat-icon-button","","matSuffix","",3,"click"],["matInput","","formControlName","confirmPassword","placeholder","Confirm your new password",3,"type"],["mat-raised-button","","color","primary","type","submit",1,"auth-button",3,"disabled"],[1,"row-text"],["diameter","20",1,"spinner"]],template:function(e,i){e&1&&(n(0,"div",0),d(1,Ye,9,0,"div",1)(2,ot,29,15),o()),e&2&&(a(),m(i.invalidToken()?1:2))},dependencies:[R,z,L,V,N,D,B,A,J,Q,j,H,te,Y,U,$,Z,G,q,ee,W,X],styles:[ie],changeDetection:0})};export{Ee as ForgotPasswordComponent,ke as LoginComponent,Fe as ResetPasswordComponent};
