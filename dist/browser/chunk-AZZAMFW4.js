import{a as A,b as V}from"./chunk-SWI6467K.js";import{a as T,c as L,d as O}from"./chunk-2D2I2PDG.js";import{b as R,c as P,f as q,i as k}from"./chunk-PTRNPYW6.js";import{a as j}from"./chunk-URY737FD.js";import{b as E,d as l,g as S,h as M,i as x,k as d,m as I,p as N,s as w,y as F}from"./chunk-NZ7PJTNX.js";import"./chunk-75BXHIVP.js";import{a as y}from"./chunk-NQCP3IVX.js";import"./chunk-LK7ZGARP.js";import{n as B,q as D,u as G}from"./chunk-FE5XWYP3.js";import"./chunk-GTI6TFUP.js";import{a as C,c as v}from"./chunk-VSTSZJ55.js";import{Cc as _,Fb as c,Kc as b,Rb as i,Sb as h,Ta as n,cb as g,hb as s,ja as u,ob as m,xb as t,yb as e,zb as p}from"./chunk-KAD4X6AH.js";function H(r,a){r&1&&(t(0,"mat-error"),i(1,"First name is required"),e())}function K(r,a){r&1&&(t(0,"mat-error"),i(1,"Last name is required"),e())}function Q(r,a){r&1&&(t(0,"mat-error"),i(1,"Country code is required"),e())}function U(r,a){r&1&&(t(0,"mat-error"),i(1,"Phone number is required"),e())}function W(r,a){r&1&&(t(0,"mat-error"),i(1,"Password is required"),e())}function X(r,a){r&1&&(t(0,"mat-error"),i(1,"Password must be at least 8 characters"),e())}function Y(r,a){r&1&&(t(0,"span"),i(1,"Processing..."),e())}function Z(r,a){r&1&&(t(0,"span"),i(1,"Complete Registration"),e())}var z=class r{route=u(C);router=u(v);authService=u(y);snackBar=u(j);token="";isLoading=!1;hidePassword=!0;registerForm=new x({firstName:new d("",[l.required]),lastName:new d("",[l.required]),countryCode:new d("",[l.required]),phoneNumber:new d("",[l.required]),password:new d("",[l.required,l.minLength(8)])});ngOnInit(){this.token=this.route.snapshot.params.token,this.token||this.router.navigate(["/auth/login"])}onSubmit(){this.registerForm.valid&&this.token&&(this.isLoading=!0,this.authService.registerAdmin(this.token,this.registerForm.value).subscribe({next:a=>{this.snackBar.open("Registration successful","Close",{duration:3e3}),this.router.navigate(["/dashboard"])},error:a=>{this.isLoading=!1,this.snackBar.open(a.error?.message||"Registration failed","Close",{duration:5e3})}}))}static \u0275fac=function(f){return new(f||r)};static \u0275cmp=g({type:r,selectors:[["app-register"]],decls:38,vars:12,consts:[[1,"auth-content"],[1,"top-label"],[3,"ngSubmit","formGroup"],["appearance","outline",1,"form-field"],["matInput","","formControlName","firstName","placeholder","Enter your first name"],[4,"ngIf"],["matInput","","formControlName","lastName","placeholder","Enter your last name"],["matInput","","formControlName","countryCode","placeholder","+1"],["matInput","","formControlName","phoneNumber","placeholder","Enter your phone number"],["matInput","","formControlName","password",3,"type"],["mat-icon-button","","matSuffix","","type","button",3,"click"],[1,"material-symbols-outlined"],["mat-flat-button","","type","submit",1,"register-button",3,"disabled"]],template:function(f,o){f&1&&(t(0,"div",0)(1,"span",1),i(2,"Complete Registration"),e(),t(3,"h2"),i(4,"Enter your details to get started"),e(),t(5,"form",2),c("ngSubmit",function(){return o.onSubmit()}),t(6,"mat-form-field",3)(7,"mat-label"),i(8,"First Name"),e(),p(9,"input",4),s(10,H,2,0,"mat-error",5),e(),t(11,"mat-form-field",3)(12,"mat-label"),i(13,"Last Name"),e(),p(14,"input",6),s(15,K,2,0,"mat-error",5),e(),t(16,"mat-form-field",3)(17,"mat-label"),i(18,"Country Code"),e(),p(19,"input",7),s(20,Q,2,0,"mat-error",5),e(),t(21,"mat-form-field",3)(22,"mat-label"),i(23,"Phone Number"),e(),p(24,"input",8),s(25,U,2,0,"mat-error",5),e(),t(26,"mat-form-field",3)(27,"mat-label"),i(28,"Password"),e(),p(29,"input",9),t(30,"button",10),c("click",function(){return o.hidePassword=!o.hidePassword}),t(31,"mat-icon",11),i(32),e()(),s(33,W,2,0,"mat-error",5)(34,X,2,0,"mat-error",5),e(),t(35,"button",12),s(36,Y,2,0,"span",5)(37,Z,2,0,"span",5),e()()()),f&2&&(n(5),m("formGroup",o.registerForm),n(5),m("ngIf",o.registerForm.controls.firstName.hasError("required")),n(5),m("ngIf",o.registerForm.controls.lastName.hasError("required")),n(5),m("ngIf",o.registerForm.controls.countryCode.hasError("required")),n(5),m("ngIf",o.registerForm.controls.phoneNumber.hasError("required")),n(4),m("type",o.hidePassword?"password":"text"),n(3),h(o.hidePassword?"visibility_off":"visibility"),n(),m("ngIf",o.registerForm.controls.password.hasError("required")),n(),m("ngIf",o.registerForm.controls.password.hasError("minlength")),n(),m("disabled",o.registerForm.invalid||o.isLoading),n(),m("ngIf",o.isLoading),n(),m("ngIf",!o.isLoading))},dependencies:[b,_,F,I,E,S,M,N,w,T,k,R,P,q,O,L,G,D,B,V,A],styles:[".auth-content[_ngcontent-%COMP%]{font-family:Josephin,sans-serif!important;display:flex;flex-direction:column;text-align:left}h1[_ngcontent-%COMP%]{margin-bottom:8px;font-weight:500}h2[_ngcontent-%COMP%]{margin-top:0;margin-bottom:24px;font-weight:400;font-size:16px}.form-field[_ngcontent-%COMP%]{width:100%;margin-bottom:12px}.register-button[_ngcontent-%COMP%]{width:100%;background-color:#009c4c;color:#fff;padding:12px;margin-top:12px;border-radius:4px}"]})};export{z as RegisterComponent};
