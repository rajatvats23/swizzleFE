import{a as k}from"./chunk-MRIKSRXR.js";import{b as A,g as V}from"./chunk-54ULQ5WC.js";import{a as C,b as x,c as _,d as M,e as S,f as h,g as I,h as T}from"./chunk-QTDDUBQI.js";import{a as O,b as P}from"./chunk-SWI6467K.js";import"./chunk-PTRNPYW6.js";import{a as E}from"./chunk-URY737FD.js";import"./chunk-NZ7PJTNX.js";import"./chunk-75BXHIVP.js";import"./chunk-4MJ6IACY.js";import{q as y,u as w}from"./chunk-FE5XWYP3.js";import"./chunk-GTI6TFUP.js";import{a as v}from"./chunk-VSTSZJ55.js";import{Cc as b,Gb as u,Kc as g,Rb as n,Sb as f,Ta as r,Tb as c,cb as p,hb as m,ja as l,ob as s,xb as t,yb as a}from"./chunk-KAD4X6AH.js";function q(i,o){i&1&&(t(0,"div",14)(1,"mat-icon"),n(2,"info"),a(),t(3,"p"),n(4,"Please wait for a staff member to confirm your table."),a()())}function N(i,o){i&1&&(t(0,"div",15)(1,"mat-icon"),n(2,"check_circle"),a(),t(3,"p"),n(4,"This table is available. You can proceed to browse our menu."),a()())}function R(i,o){i&1&&(t(0,"div",16)(1,"mat-icon"),n(2,"people"),a(),t(3,"p"),n(4,"This table is currently occupied."),a()())}function L(i,o){i&1&&(t(0,"div",17)(1,"mat-icon"),n(2,"error"),a(),t(3,"p"),n(4,"This table is currently out of service. Please contact our staff for assistance."),a()())}function Q(i,o){if(i&1&&(t(0,"div",2)(1,"mat-card",3)(2,"mat-card-header")(3,"div",4)(4,"mat-icon",5),n(5,"restaurant"),a()(),t(6,"mat-card-title"),n(7),a(),t(8,"mat-card-subtitle"),n(9),a()(),t(10,"mat-card-content")(11,"div",6)(12,"p"),n(13,"Table Status: "),t(14,"mat-chip",7),n(15),a()(),t(16,"p"),n(17),a()(),m(18,q,5,0,"div",8)(19,N,5,0,"div",9)(20,R,5,0,"div",10)(21,L,5,0,"div",11),a(),t(22,"mat-card-actions")(23,"button",12),n(24," View Menu "),a(),t(25,"button",13),n(26,"Call Server"),a()()()()),i&2){let e=u();r(7),c("Welcome to ",e.restaurantName,""),r(2),c("Table ",e.table.tableNumber,""),r(5),s("color",e.getStatusColor(e.table.status)),r(),f(e.table.status),r(2),c("Capacity: ",e.table.capacity," people"),r(),s("ngIf",e.requiresStaffApproval),r(),s("ngIf",!e.requiresStaffApproval&&e.table.status==="Available"),r(),s("ngIf",e.table.status==="Occupied"),r(),s("ngIf",e.table.status==="Out of Service"),r(2),s("disabled",e.table.status!=="Available"||e.requiresStaffApproval)}}function j(i,o){i&1&&(t(0,"div",18)(1,"p"),n(2,"Loading table information..."),a()())}var B=class i{route=l(v);tableService=l(k);snackBar=l(E);table=null;restaurantName="";requiresStaffApproval=!1;isLoading=!0;ngOnInit(){let o=this.route.snapshot.params.qrCodeId;o?this.loadTableByQRCode(o):this.snackBar.open("Invalid table QR code","Close",{duration:5e3})}loadTableByQRCode(o){this.isLoading=!0,this.tableService.getTableByQRCode(o).subscribe({next:e=>{this.table=e.data.table,this.requiresStaffApproval=e.data.requiresStaffApproval,this.table.restaurantId&&typeof this.table.restaurantId=="object"&&(this.restaurantName=this.table.restaurantId.name||"Our Restaurant"),this.isLoading=!1},error:e=>{this.snackBar.open(e.error?.message||"Failed to load table information","Close",{duration:5e3}),this.isLoading=!1}})}getStatusColor(o){switch(o){case"Available":return"primary";case"Reserved":return"accent";case"Occupied":return"warn";case"Cleaning":return"";case"Out of Service":return"";default:return""}}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=p({type:i,selectors:[["app-customer-table-view"]],decls:2,vars:2,consts:[["class","container",4,"ngIf"],["class","loading-container",4,"ngIf"],[1,"container"],[1,"welcome-card"],["mat-card-avatar",""],[1,"header-icon"],[1,"table-status"],["selected","",3,"color"],["class","message-box",4,"ngIf"],["class","message-box success",4,"ngIf"],["class","message-box warning",4,"ngIf"],["class","message-box error",4,"ngIf"],["mat-raised-button","","color","primary",3,"disabled"],["mat-button","","color","accent"],[1,"message-box"],[1,"message-box","success"],[1,"message-box","warning"],[1,"message-box","error"],[1,"loading-container"]],template:function(e,d){e&1&&m(0,Q,27,10,"div",0)(1,j,3,0,"div",1),e&2&&(s("ngIf",d.table),r(),s("ngIf",d.isLoading))},dependencies:[g,b,T,C,S,I,_,h,M,x,w,y,P,O,V,A],styles:[".container[_ngcontent-%COMP%]{max-width:600px;margin:0 auto;padding:20px}.welcome-card[_ngcontent-%COMP%]{margin-bottom:20px}.header-icon[_ngcontent-%COMP%]{font-size:40px;height:40px;width:40px}.table-status[_ngcontent-%COMP%]{margin:20px 0}.message-box[_ngcontent-%COMP%]{display:flex;align-items:center;padding:16px;background-color:#f5f5f5;border-radius:4px;margin-bottom:16px}.message-box[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:16px;color:#666}.message-box.success[_ngcontent-%COMP%]{background-color:#e8f5e9}.message-box.success[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#4caf50}.message-box.warning[_ngcontent-%COMP%]{background-color:#fff8e1}.message-box.warning[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#ff9800}.message-box.error[_ngcontent-%COMP%]{background-color:#ffebee}.message-box.error[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#f44336}.loading-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:40px}"]})};export{B as CustomerTableViewComponent};
