import"./chunk-XOSWA2SM.js";import{a as G}from"./chunk-PVMEQWGV.js";import{a as W,b as q}from"./chunk-QTPJ4F3S.js";import{b as $,g as U}from"./chunk-Q73V3MFL.js";import{a as z,b as V}from"./chunk-T763PW3Z.js";import"./chunk-MPZJ55NE.js";import"./chunk-4NNSIX2F.js";import{a as w,b as P,c as k,f as O,h as B}from"./chunk-X4H6S6WA.js";import{a as j,b as F}from"./chunk-FNZWV5VH.js";import"./chunk-TFWZGPIA.js";import{a as N}from"./chunk-MXW2SQ2E.js";import"./chunk-CG6HKZKU.js";import"./chunk-YE4XPGXQ.js";import{a as T}from"./chunk-DAAD4K4P.js";import"./chunk-4MJ6IACY.js";import{q as L,u as A}from"./chunk-QRFS6CQK.js";import"./chunk-24M76UXH.js";import{a as M,c as R,d as H}from"./chunk-A2KXSCJD.js";import{Cc as h,Db as g,Fb as y,Fc as b,Gb as l,Kc as D,Ra as v,Rb as i,Sb as d,Ta as r,Tb as C,ac as S,cb as f,cc as E,dc as I,hb as m,ja as p,ob as s,qa as x,ra as _,xb as n,yb as e,zb as c}from"./chunk-Q5RHU532.js";var Q=a=>["/dashboard/restaurants",a,"edit"];function X(a,o){if(a&1){let t=g();n(0,"button",19),y("click",function(){x(t);let K=l(2);return _(K.confirmDelete())}),n(1,"mat-icon",7),i(2,"delete"),e(),i(3," Delete "),e()}}function Y(a,o){if(a&1&&(n(0,"div",15)(1,"span",16),i(2,"State/Province:"),e(),n(3,"span"),i(4),e()()),a&2){let t=l(2);r(4),d(t.restaurant.state)}}function Z(a,o){if(a&1&&(n(0,"div",15)(1,"span",16),i(2,"Postal Code:"),e(),n(3,"span"),i(4),e()()),a&2){let t=l(2);r(4),d(t.restaurant.zipCode)}}function tt(a,o){if(a&1&&(n(0,"div",15)(1,"span",16),i(2,"Description:"),e(),n(3,"span"),i(4),e()()),a&2){let t=l(3);r(4),d(t.restaurant.description)}}function et(a,o){if(a&1&&(n(0,"div",15)(1,"span",16),i(2,"Cuisine Type:"),e(),n(3,"span"),i(4),e()()),a&2){let t=l(3);r(4),d(t.restaurant.cuisineType)}}function nt(a,o){if(a&1&&(n(0,"div",15)(1,"span",16),i(2,"Website:"),e(),n(3,"span")(4,"a",20),i(5),e()()()),a&2){let t=l(3);r(4),s("href",t.restaurant.website,v),r(),d(t.restaurant.website)}}function at(a,o){if(a&1&&(n(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),i(3,"Additional Details"),e()(),c(4,"mat-divider"),n(5,"mat-card-content"),m(6,tt,5,1,"div",17)(7,et,5,1,"div",17)(8,nt,6,2,"div",17),e()()),a&2){let t=l(2);r(6),s("ngIf",t.restaurant.description),r(),s("ngIf",t.restaurant.cuisineType),r(),s("ngIf",t.restaurant.website)}}function it(a,o){if(a&1&&(n(0,"div",15)(1,"span",16),i(2,"Monday:"),e(),n(3,"span"),i(4),e()()),a&2){let t=l(3);r(4),d(t.getHoursDisplay(t.restaurant.operatingHours.monday))}}function rt(a,o){if(a&1&&(n(0,"div",15)(1,"span",16),i(2,"Tuesday:"),e(),n(3,"span"),i(4),e()()),a&2){let t=l(3);r(4),d(t.getHoursDisplay(t.restaurant.operatingHours.tuesday))}}function ot(a,o){if(a&1&&(n(0,"div",15)(1,"span",16),i(2,"Wednesday:"),e(),n(3,"span"),i(4),e()()),a&2){let t=l(3);r(4),d(t.getHoursDisplay(t.restaurant.operatingHours.wednesday))}}function st(a,o){if(a&1&&(n(0,"div",15)(1,"span",16),i(2,"Thursday:"),e(),n(3,"span"),i(4),e()()),a&2){let t=l(3);r(4),d(t.getHoursDisplay(t.restaurant.operatingHours.thursday))}}function dt(a,o){if(a&1&&(n(0,"div",15)(1,"span",16),i(2,"Friday:"),e(),n(3,"span"),i(4),e()()),a&2){let t=l(3);r(4),d(t.getHoursDisplay(t.restaurant.operatingHours.friday))}}function lt(a,o){if(a&1&&(n(0,"div",15)(1,"span",16),i(2,"Saturday:"),e(),n(3,"span"),i(4),e()()),a&2){let t=l(3);r(4),d(t.getHoursDisplay(t.restaurant.operatingHours.saturday))}}function mt(a,o){if(a&1&&(n(0,"div",15)(1,"span",16),i(2,"Sunday:"),e(),n(3,"span"),i(4),e()()),a&2){let t=l(3);r(4),d(t.getHoursDisplay(t.restaurant.operatingHours.sunday))}}function pt(a,o){if(a&1&&(n(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),i(3,"Operating Hours"),e()(),c(4,"mat-divider"),n(5,"mat-card-content"),m(6,it,5,1,"div",17)(7,rt,5,1,"div",17)(8,ot,5,1,"div",17)(9,st,5,1,"div",17)(10,dt,5,1,"div",17)(11,lt,5,1,"div",17)(12,mt,5,1,"div",17),e()()),a&2){let t=l(2);r(6),s("ngIf",t.restaurant.operatingHours==null?null:t.restaurant.operatingHours.monday),r(),s("ngIf",t.restaurant.operatingHours==null?null:t.restaurant.operatingHours.tuesday),r(),s("ngIf",t.restaurant.operatingHours==null?null:t.restaurant.operatingHours.wednesday),r(),s("ngIf",t.restaurant.operatingHours==null?null:t.restaurant.operatingHours.thursday),r(),s("ngIf",t.restaurant.operatingHours==null?null:t.restaurant.operatingHours.friday),r(),s("ngIf",t.restaurant.operatingHours==null?null:t.restaurant.operatingHours.saturday),r(),s("ngIf",t.restaurant.operatingHours==null?null:t.restaurant.operatingHours.sunday)}}function ct(a,o){if(a&1&&(n(0,"div",2)(1,"div",3)(2,"span",4),i(3),e(),n(4,"div",5)(5,"button",6)(6,"mat-icon",7),i(7,"arrow_back"),e(),i(8," Back to List "),e(),n(9,"button",8)(10,"mat-icon",7),i(11,"edit"),e(),i(12," Edit "),e(),m(13,X,4,0,"button",9),e()(),n(14,"div",10),c(15,"mat-progress-bar",11),n(16,"div",12)(17,"span"),i(18),e(),n(19,"mat-chip",13),i(20),E(21,"titlecase"),e()()(),n(22,"div",14)(23,"mat-card")(24,"mat-card-header")(25,"mat-card-title"),i(26,"Basic Information"),e()(),c(27,"mat-divider"),n(28,"mat-card-content")(29,"div",15)(30,"span",16),i(31,"Name:"),e(),n(32,"span"),i(33),e()(),n(34,"div",15)(35,"span",16),i(36,"Email:"),e(),n(37,"span"),i(38),e()(),n(39,"div",15)(40,"span",16),i(41,"Phone:"),e(),n(42,"span"),i(43),e()(),n(44,"div",15)(45,"span",16),i(46,"Manager:"),e(),n(47,"span"),i(48),e()()()(),n(49,"mat-card")(50,"mat-card-header")(51,"mat-card-title"),i(52,"Location"),e()(),c(53,"mat-divider"),n(54,"mat-card-content")(55,"div",15)(56,"span",16),i(57,"Address:"),e(),n(58,"span"),i(59),e()(),n(60,"div",15)(61,"span",16),i(62,"City:"),e(),n(63,"span"),i(64),e()(),m(65,Y,5,1,"div",17)(66,Z,5,1,"div",17),n(67,"div",15)(68,"span",16),i(69,"Country:"),e(),n(70,"span"),i(71),e()()()(),m(72,at,9,3,"mat-card",18)(73,pt,13,7,"mat-card",18),e()()),a&2){let t=l();r(3),d(t.restaurant.name),r(6),s("routerLink",S(21,Q,t.restaurant._id)),r(4),s("ngIf",t.isAdminOrSuperAdmin()),r(2),s("value",t.restaurant.completionPercentage)("color",t.getProgressColor(t.restaurant.completionPercentage)),r(3),C("Profile Completion: ",t.restaurant.completionPercentage,"%"),r(),s("color",t.getStatusColor(t.restaurant.status)),r(),d(I(21,19,t.restaurant.status)),r(13),d(t.restaurant.name),r(5),d(t.restaurant.email),r(5),d(t.restaurant.phone),r(5),d(t.restaurant.managerEmail),r(11),d(t.restaurant.address),r(5),d(t.restaurant.city),r(),s("ngIf",t.restaurant.state),r(),s("ngIf",t.restaurant.zipCode),r(5),d(t.restaurant.country),r(),s("ngIf",t.hasAdditionalDetails()),r(),s("ngIf",t.restaurant.operatingHours)}}function ut(a,o){a&1&&(n(0,"div",21)(1,"p"),i(2,"Loading restaurant details..."),e()())}var J=class a{route=p(M);router=p(R);restaurantService=p(G);snackBar=p(N);authService=p(T);restaurant=null;isLoading=!0;restaurantId="";ngOnInit(){this.restaurantId=this.route.snapshot.params.id,this.restaurantId?this.loadRestaurant():this.router.navigate(["/dashboard/restaurants"])}loadRestaurant(){this.isLoading=!0,this.restaurantService.getRestaurantById(this.restaurantId).subscribe({next:o=>{this.restaurant=o.data.restaurant,this.isLoading=!1},error:o=>{this.snackBar.open(o.error?.message||"Failed to load restaurant","Close",{duration:5e3}),this.isLoading=!1,this.router.navigate(["/dashboard/restaurants"])}})}getStatusColor(o){switch(o){case"active":return"primary";case"inactive":return"warn";default:return"accent"}}getProgressColor(o){return o<30?"warn":o<70?"accent":"primary"}getHoursDisplay(o){return!o||!o.open||!o.close?"Closed":`${o.open} - ${o.close}`}hasAdditionalDetails(){return!!(this.restaurant?.description||this.restaurant?.cuisineType||this.restaurant?.website)}isAdminOrSuperAdmin(){let o=this.authService.getTempUserInfo();return o?.role==="admin"||o?.role==="superadmin"}confirmDelete(){confirm(`Are you sure you want to delete "${this.restaurant?.name}"?`)&&this.deleteRestaurant()}deleteRestaurant(){this.restaurantService.deleteRestaurant(this.restaurantId).subscribe({next:()=>{this.snackBar.open("Restaurant deleted successfully","Close",{duration:3e3}),this.router.navigate(["/dashboard/restaurants"])},error:o=>{this.snackBar.open(o.error?.message||"Error deleting restaurant","Close",{duration:5e3})}})}static \u0275fac=function(t){return new(t||a)};static \u0275cmp=f({type:a,selectors:[["app-restaurant-detail"]],decls:2,vars:2,consts:[["class","container",4,"ngIf"],["class","loading-container",4,"ngIf"],[1,"container"],[1,"header-actions"],[1,"top-label"],[1,"action-buttons"],["mat-button","","color","primary","routerLink","/dashboard/restaurants"],[1,"material-symbols-outlined"],["mat-raised-button","","color","accent",3,"routerLink"],["mat-raised-button","","color","warn",3,"click",4,"ngIf"],[1,"status-container"],[3,"value","color"],[1,"status-info"],["selected","",3,"color"],[1,"detail-grid"],[1,"info-row"],[1,"label"],["class","info-row",4,"ngIf"],[4,"ngIf"],["mat-raised-button","","color","warn",3,"click"],["target","_blank",3,"href"],[1,"loading-container"]],template:function(t,u){t&1&&m(0,ct,74,23,"div",0)(1,ut,3,0,"div",1),t&2&&(s("ngIf",u.restaurant),r(),s("ngIf",u.isLoading))},dependencies:[D,h,b,H,B,w,k,O,P,A,L,F,j,U,$,V,z,q,W],styles:[".container[_ngcontent-%COMP%]{width:100%}.header-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:10px}.status-container[_ngcontent-%COMP%]{background-color:#fff;border-radius:4px;padding:16px;margin-bottom:20px;box-shadow:0 2px 4px #0000001a}.status-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:10px}.detail-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:20px}.info-row[_ngcontent-%COMP%]{margin-bottom:12px}.label[_ngcontent-%COMP%]{font-weight:500;color:#666;display:block;margin-bottom:4px}.loading-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:40px}@media (max-width: 600px){.header-actions[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.action-buttons[_ngcontent-%COMP%]{margin-top:10px}}"]})};export{J as RestaurantDetailComponent};
