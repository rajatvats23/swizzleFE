import{b as V,g as W}from"./chunk-Q73V3MFL.js";import{a as X}from"./chunk-VR5R2KS7.js";import{a as $,b as N,c as k,d as U,e as j,f as F,g as z,h as q,i as G,j as J,k as K,l as Q}from"./chunk-66KDBNKL.js";import"./chunk-4NNSIX2F.js";import{a as I,c as T,h as b}from"./chunk-X4H6S6WA.js";import{a as B,b as A}from"./chunk-FNZWV5VH.js";import"./chunk-TFWZGPIA.js";import{a as H}from"./chunk-MXW2SQ2E.js";import"./chunk-CG6HKZKU.js";import"./chunk-YE4XPGXQ.js";import"./chunk-4MJ6IACY.js";import{o as R,u as O}from"./chunk-QRFS6CQK.js";import"./chunk-24M76UXH.js";import{a as E}from"./chunk-A2KXSCJD.js";import{Ab as p,Bb as s,Cc as g,Fc as D,Gb as C,Gc as v,Jc as w,Kc as L,Ra as h,Rb as o,Sb as c,Ta as m,Tb as M,cb as x,cc as f,dc as _,ec as P,fc as S,hb as r,ja as u,ob as l,xb as i,yb as a,zb as y}from"./chunk-Q5RHU532.js";function Z(t,e){t&1&&(i(0,"th",15),o(1,"ID"),a())}function tt(t,e){if(t&1&&(i(0,"td",16),o(1),a()),t&2){let n=e.$implicit;m(),c(n.id.slice(-8))}}function et(t,e){t&1&&(i(0,"th",15),o(1,"Amount"),a())}function nt(t,e){if(t&1&&(i(0,"td",16),o(1),f(2,"currency"),a()),t&2){let n=e.$implicit;m(),c(S(2,1,n.amount,n.currency,"symbol"))}}function it(t,e){t&1&&(i(0,"th",15),o(1,"Method"),a())}function at(t,e){if(t&1&&(i(0,"td",16),o(1),f(2,"titlecase"),a()),t&2){let n=e.$implicit;m(),c(_(2,1,n.paymentMethod))}}function ot(t,e){t&1&&(i(0,"th",15),o(1,"Status"),a())}function mt(t,e){if(t&1&&(i(0,"td",16)(1,"mat-chip",17),o(2),f(3,"titlecase"),a()()),t&2){let n=e.$implicit,d=C();m(),l("color",d.getStatusColor(n.status)),m(),M(" ",_(3,2,n.status)," ")}}function rt(t,e){t&1&&(i(0,"th",15),o(1,"Date"),a())}function lt(t,e){if(t&1&&(i(0,"td",16),o(1),f(2,"date"),a()),t&2){let n=e.$implicit;m(),c(P(2,1,n.createdAt,"medium"))}}function pt(t,e){t&1&&(i(0,"th",15),o(1,"Actions"),a())}function st(t,e){if(t&1&&(i(0,"a",19)(1,"mat-icon"),o(2,"receipt"),a()()),t&2){let n=C().$implicit;l("href",n.receiptUrl,h)}}function dt(t,e){if(t&1&&(i(0,"td",16),r(1,st,3,1,"a",18),a()),t&2){let n=e.$implicit;m(),l("ngIf",n.receiptUrl)}}function ct(t,e){t&1&&y(0,"tr",20)}function ft(t,e){t&1&&y(0,"tr",21)}function ut(t,e){t&1&&(i(0,"tr",22)(1,"td",23),o(2," No payments found for this order "),a()())}var Y=class t{route=u(E);paymentService=u(X);snackBar=u(H);payments=[];orderId="";isLoading=!0;displayedColumns=["id","amount","paymentMethod","status","createdAt","actions"];ngOnInit(){this.orderId=this.route.snapshot.params.orderId,this.orderId&&this.loadOrderPayments()}loadOrderPayments(){this.isLoading=!0,this.paymentService.getOrderPayments(this.orderId).subscribe({next:e=>{this.payments=e.data.payments,this.isLoading=!1},error:e=>{this.snackBar.open(e.error?.message||"Failed to load payments","Close",{duration:5e3}),this.isLoading=!1}})}getStatusColor(e){switch(e){case"successful":return"primary";case"pending":return"accent";case"processing":return"accent";case"failed":return"warn";default:return""}}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=x({type:t,selectors:[["app-payment-list"]],decls:28,vars:3,consts:[[1,"container"],[1,"header-actions"],[1,"header-title"],["mat-table","",1,"payment-table",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","amount"],["matColumnDef","paymentMethod"],["matColumnDef","status"],["matColumnDef","createdAt"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["mat-header-cell",""],["mat-cell",""],["selected","",3,"color"],["mat-icon-button","","target","_blank",3,"href",4,"ngIf"],["mat-icon-button","","target","_blank",3,"href"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","6",1,"mat-cell",2,"text-align","center","padding","16px"]],template:function(n,d){n&1&&(i(0,"div",0)(1,"div",1)(2,"span",2),o(3,"Order Payments"),a()(),i(4,"mat-card")(5,"mat-card-content")(6,"table",3),p(7,4),r(8,Z,2,0,"th",5)(9,tt,2,1,"td",6),s(),p(10,7),r(11,et,2,0,"th",5)(12,nt,3,5,"td",6),s(),p(13,8),r(14,it,2,0,"th",5)(15,at,3,3,"td",6),s(),p(16,9),r(17,ot,2,0,"th",5)(18,mt,4,4,"td",6),s(),p(19,10),r(20,rt,2,0,"th",5)(21,lt,3,4,"td",6),s(),p(22,11),r(23,pt,2,0,"th",5)(24,dt,2,1,"td",6),s(),r(25,ct,1,0,"tr",12)(26,ft,1,0,"tr",13)(27,ut,3,0,"tr",14),a()()()()),n&2&&(m(6),l("dataSource",d.payments),m(19),l("matHeaderRowDef",d.displayedColumns),m(),l("matRowDefColumns",d.displayedColumns))},dependencies:[L,g,D,w,v,Q,$,k,z,U,N,q,j,F,G,J,K,b,I,T,O,R,A,B,W,V],styles:[".container[_ngcontent-%COMP%]{width:100%}.header-actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px}.payment-table[_ngcontent-%COMP%]{width:100%}"]})};export{Y as PaymentListComponent};
